variant: fcos
version: 1.4.0
storage:
  files:
    - path: /etc/NetworkManager/system-connections/eno1.nmconnection
      mode: 0600
      contents:
        inline: |
          [connection]
          id=eno1
          type=ethernet
          interface-name=eno1
          [ipv4]
          address1=10.99.1.100/16,10.99.0.1
          dhcp-hostname=polaris
          dns=10.99.0.1;
          dns-search=mgmt.local
          may-fail=false
          method=manual
          [ipv6]
          method=disabled
    - path: /etc/NetworkManager/system-connections/eno1.50.nmconnection
      mode: 0600
      contents:
        inline: |
          [connection]
          id=eno1.50
          type=vlan
          interface-name=eno1.50
          master=br-storage
          slave-type=bridge
          [vlan]
          flags=1
          id=50
          parent=eno1
    - path: /etc/NetworkManager/system-connections/br-vlan50.nmconnection
      mode: 0600
      contents:
        inline: |
          [connection]
          id=br-storage
          type=bridge
          interface-name=br-vlan50
          [bridge]
          stp=false
          [ipv4]
          address1=10.0.50.100/24
          dhcp-hostname=polaris-vlan50
          may-fail=false
          method=manual
          [ipv6]
          method=disabled
    - path: /etc/NetworkManager/system-connections/eno3.nmconnection
      mode: 0600
      contents:
        inline: |
          [connection]
          id=eno3
          type=ethernet
          autoconnect-priority=-999
          interface-name=eno3
          [ethernet]
          mtu=9000
          [ipv4]
          method=disabled
          [ipv6]
          addr-gen-mode=default
          method=disabled
    - path: /etc/NetworkManager/system-connections/eno3.20.nmconnection
      mode: 0600
      contents:
        inline: |
          [connection]
          id=eno3.20
          type=vlan
          interface-name=eno3.20
          master=br-storage
          slave-type=bridge
          [ethernet]
          mtu=9000
          [vlan]
          flags=1
          id=20
          parent=eno3
    - path: /etc/NetworkManager/system-connections/br-storage.nmconnection
      mode: 0600
      contents:
        inline: |
          [connection]
          id=br-storage
          type=bridge
          interface-name=br-storage
          [bridge]
          stp=false
          [ipv4]
          address1=10.0.20.100/24
          dhcp-hostname=polaris-storage
          may-fail=false
          method=manual
          [ipv6]
          method=disabled
